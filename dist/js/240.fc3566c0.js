"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[240],{4903:(r,t,e)=>{e.d(t,{A:()=>m});var s=function(){var r=this,t=r._self._c;return t("h1",{staticClass:"title"},[r._t("default")],2)},o=[];const a={props:{marginBottom:{type:String,default:"0px"},fontWeight:{type:String,default:"bold"}}},n=a;var i=e(1656),u=(0,i.A)(n,s,o,!1,null,"2446a3c6",null);const m=u.exports},2444:(r,t,e)=>{e.r(t),e.d(t,{default:()=>h});var s=function(){var r=this,t=r._self._c;return t("div",{staticClass:"container"},[t("PageTitle",[r._v("Login")]),t("b-form",{on:{submit:function(t){return t.preventDefault(),r.onLogin.apply(null,arguments)}}},[t("custom-input",{attrs:{id:"Username",label:"Username:",hasError:r.$v.form.username.$error},scopedSlots:r._u([{key:"feedback",fn:function(){return[r._v(" Username is required ")]},proxy:!0}])},[t("b-form-input",{attrs:{id:"Username",type:"text",state:r.validateState("username")},model:{value:r.$v.form.username.$model,callback:function(t){r.$set(r.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}})],1),t("custom-input",{attrs:{id:"Password",label:"Password:",hasError:r.$v.form.password.$error},scopedSlots:r._u([{key:"feedback",fn:function(){return[r._v(" Password is required ")]},proxy:!0}])},[t("b-form-input",{attrs:{id:"Password",type:"password",state:r.validateState("password")},model:{value:r.$v.form.password.$model,callback:function(t){r.$set(r.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}})],1),t("CustomButton",{attrs:{fullWidth:!0,type:"submit",variant:"primary"}},[r._v(" Login ")]),t("div",{staticClass:"mt-2"},[r._v(" Do not have an account yet? "),t("router-link",{attrs:{to:"register"}},[r._v(" Register in here")])],1)],1),r.form.submitError?t("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[r._v(" Login failed: "+r._s(r.form.submitError)+" ")]):r._e()],1)},o=[],a=e(459),n=e(388),i=(e(4114),e(2010),e(3278)),u=e(3484),m=e(2411),l=e(4903),d=e(5454);const f={name:"Login",components:{CustomInput:m.A,PageTitle:l.A,CustomButton:d.A},data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:i.mw},password:{required:i.mw}}},methods:{validateState:function(r){var t=this.$v.form[r],e=t.$dirty,s=t.$error;return e?!s:null},Login:function(){var r=this;return(0,n.A)((0,a.A)().mark((function t(){return(0,a.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,(0,u.az)(r.form.username,r.form.password);case 4:t.sent,r.$root.store.login(r.form.username),r.$router.push("/")["catch"]((function(r){if("NavigationDuplicated"!==r.name)throw r})),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),r.form.submitError=t.t0.response?t.t0.response.data.message:"Login failed";case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()}}},c=f;var p=e(1656),v=(0,p.A)(c,s,o,!1,null,"3771d3e4",null);const h=v.exports}}]);
//# sourceMappingURL=240.fc3566c0.js.map